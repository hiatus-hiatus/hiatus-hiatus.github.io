import{u as e,a as s,c as t,b as a,i as r}from"./vendor.0e8f4013.js";import{defineComponent as n,inject as l,computed as o,openBlock as i,createBlock as u,pushScopeId as c,popScopeId as d,Fragment as h,renderList as m,createVNode as p,toDisplayString as y,withScopeId as f,ref as v,onMounted as k,createTextVNode as b,createCommentVNode as g,withDirectives as w,vModelText as _,vModelCheckbox as I,createStaticVNode as j,resolveComponent as q,vShow as A,provide as R,nextTick as M,reactive as x,createApp as S}from"https://cdn.jsdelivr.net/npm/vue@3.2.4/dist/vue.runtime.esm-browser.prod.js";import{DateTime as $}from"https://cdn.jsdelivr.net/npm/luxon@2.0.2/build/es6/luxon.js";import{Chart as B,BarElement as U,BarController as Y,CategoryScale as C,LinearScale as H,Legend as D,Tooltip as F}from"https://cdn.jsdelivr.net/npm/chart.js@3.5.1/dist/chart.esm.js";!function(e=".",s="__import__"){try{self[s]=new Function("u","return import(u)")}catch(t){const a=new URL(e,location),r=e=>{URL.revokeObjectURL(e.src),e.remove()};self[s]=e=>new Promise(((t,n)=>{const l=new URL(e,a);if(self[s].moduleMap[l])return t(self[s].moduleMap[l]);const o=new Blob([`import * as m from '${l}';`,`${s}.moduleMap['${l}']=m;`],{type:"text/javascript"}),i=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(o),onerror(){n(new Error(`Failed to import: ${e}`)),r(i)},onload(){t(self[s].moduleMap[l]),r(i)}});document.head.appendChild(i)})),self[s].moduleMap={}}}("/assets/");var O=n({name:"Issue",props:{issue:{type:Object,required:!0}},setup(e){const s=l("arcs",new Map),t=l("showArcs",!1),a=o((()=>{let s="";return e.issue.chapter&&(s+=`Chapter: ${e.issue.chapter}. `),s+=`Issue: ${e.issue.number}`,s})),r=o((()=>{if(t.value){return(s.value.get(e.issue.arc)||{}).color||"gray-300"}return"gray-300"}));return{title:a,showArcs:t,arcs:s,color:r}}});O.render=function(e,s,t,a,r,n){return i(),u("div",{class:["issue",{released:e.issue.released&&!e.showArcs,hiatus:!e.issue.released&&!e.showArcs,[e.color]:e.showArcs}],title:e.title},null,10,["title"])};var T={name:"arcs-info",components:{Issue:O},props:{arcs:Object}};const L=f("data-v-5bceecc8");c("data-v-5bceecc8");const E={class:"arcs"},N={class:"arc-description"};d();const V=L(((e,s,t,a,r,n)=>(i(),u("div",E,[(i(!0),u(h,null,m(t.arcs,(([e,s])=>(i(),u("div",{key:e,class:"arc-item"},[p("div",{class:["issue",s.color]},null,2),p("div",N,y(s.name),1)])))),128))]))));T.render=V,T.__scopeId="data-v-5bceecc8";var z=n({name:"Attribution",props:{seriesInfo:{type:Object}},computed:{authors(){return this.seriesInfo.attribution.authors},sources(){return this.seriesInfo.attribution.sources}}});const P=f("data-v-780b5159");c("data-v-780b5159");const Q=p("p",null,[b(" created by "),p("a",{target:"_blank",href:"https://www.reddit.com/user/rentzhx3/"}," /u/rentzhx3 ")],-1),G=p("p",null,[b(" inspired by "),p("a",{target:"_blank",href:"https://hunterxhunter.fandom.com/wiki/User_blog:MrGenial11/Hunter_x_Hunter_Hiatus_Chart"}," MrGenial11's "),b(" hiatus chart ")],-1),J={key:0},W=b(" and "),X=b(" ,Â "),K=b(" references: "),Z=b(" and "),ee=b(" ,Â "),se=p("p",null,[p("a",{target:"_blank",href:"https://github.com/hiatus-hiatus/hiatus-hiatus.github.io/"}," source code ")],-1);d();const te=P(((e,s,t,a,r,n)=>(i(),u("footer",null,[Q,G,e.authors?(i(),u("p",J,[b(y(e.seriesInfo.name)+" data submited by ",1),(i(!0),u(h,null,m(e.authors,((s,t)=>(i(),u(h,null,[e.authors.length>1&&t>0?(i(),u(h,{key:0},[t===e.authors.length-1||2===e.authors.length?(i(),u(h,{key:0},[W],64)):(i(),u(h,{key:1},[X],64))],64)):g("",!0),p("a",{href:s.link,target:"_blank"},y(s.name),9,["href"])],64)))),256))])):g("",!0),e.sources?(i(),u(h,{key:1},[K,(i(!0),u(h,null,m(e.sources,((s,t)=>(i(),u(h,null,[e.sources.length>1&&t>0?(i(),u(h,{key:0},[t===s.length-1||2===e.sources.length?(i(),u(h,{key:0},[Z],64)):(i(),u(h,{key:1},[ee],64))],64)):g("",!0),p("a",{href:s.link,target:"_blank"},y(s.name),9,["href"])],64)))),256))],64)):g("",!0),se]))));z.render=te,z.__scopeId="data-v-780b5159";var ae=n({name:"Faq",props:{items:{type:Object,required:!0},latestRelease:{type:Object,required:!0}},computed:{latestIssueDate(){return $.fromISO(this.latestRelease.date,{zone:"Asia/Tokyo"})},formattedDate(){return this.latestIssueDate.toLocaleString($.DATE_FULL,{locale:"en"})},diff(){const e=$.now();let s=e.diff(this.latestIssueDate,["years","months","days"]),t=e.diff(this.latestIssueDate,["days"]);return{years:s.years,months:s.months,days:s.days,totalDays:Math.floor(t.days)}}}});const re={style:{"text-align":"left"}},ne=p("h1",null,"When was the last chapter released?",-1),le=p("h1",null,"How long has it been since the last chapter?",-1),oe=b("days ðŸŽ‰."),ie=b("days."),ue=b(" Aproximately "),ce=b("years"),de=b("year"),he=b(" and"),me=b(" months."),pe=b(" month.");ae.render=function(e,s,t,a,r,n){return i(),u("div",re,[p("section",null,[ne,b(" Chapter "+y(e.latestRelease.chapter)+" was released on "+y(e.formattedDate)+". ",1)]),p("section",null,[le,b(" "+y(e.diff.totalDays)+" ",1),1e3===e.diff.totalDays?(i(),u(h,{key:0},[oe],64)):(i(),u(h,{key:1},[ie],64)),ue,e.diff.years>0?(i(),u(h,{key:2},[b(y(e.diff.years)+" ",1),e.diff.years>1?(i(),u(h,{key:0},[ce],64)):(i(),u(h,{key:1},[de],64))],64)):g("",!0),e.diff.months>0?(i(),u(h,{key:3},[e.diff.years?(i(),u(h,{key:0},[he],64)):g("",!0),b(" "+y(e.diff.months)+" ",1),e.diff.months>1?(i(),u(h,{key:1},[me],64)):(i(),u(h,{key:2},[pe],64))],64)):g("",!0)]),(i(!0),u(h,null,m(e.items,(e=>(i(),u("section",null,[p("h1",null,y(e.question),1),p("p",null,y(e.answer),1)])))),256))])};var ye=n({name:"MajorStreaks",props:{issues:{type:Object,required:!0},threshold:{type:Number,required:!0}},setup:e=>{const s=v(!0),t=v(!0),{streaks:a}=function(e){const s=v([]);let t=[...e].reverse().reduce(((e,s)=>{if(e.current&&s.released==e.current.released)e.current.count++,e.current.end=s;else{let t={start:s,end:s,count:1,released:s.released};e.current=t,e.streaks.push(t)}return e}),{streaks:[],current:null});return s.value=t.streaks,{streaks:s}}(e.issues),r=o((()=>Math.max(...a.value.map((e=>e.count))))),n=v(e.threshold),l=v(!1),i=o((()=>a.value.filter((e=>e.count>=n.value)).filter((e=>e.released&&t.value||!e.released&&s.value)))),u=v(!1);return{showBreaks:s,showReleases:t,showFilters:u,threshold:n,longestStreak:r,includeReleases:l,filteredStreaks:i}}});const fe=f("data-v-4393227e");c("data-v-4393227e");const ve={class:"section"},ke=b(" Streaks "),be={class:"material-icons"},ge=b("expand_less"),we=b("expand_more"),_e={key:0,class:"filters"},Ie={class:"filter-threshold"},je=p("label",null," Threshold: ",-1),qe={class:"filter-include-releases"},Ae=p("div",{class:"issue hiatus",style:{display:"inline-block","margin-bottom":"0"}},null,-1),Re=b(" Hiatus streaks "),Me=p("div",{class:"issue released",style:{display:"inline-block","margin-bottom":"0"}},null,-1),xe=b(" Release streaks "),Se=p("thead",null,[p("tr",null,[p("th",null,"Start"),p("th",null,"End"),p("th",null,"Chapters"),p("th",null,"Streak (total issues)")])],-1),$e=b("Special"),Be={class:"streak-col"},Ue=j('<div class="streak-legend" data-v-4393227e><div class="streak-legend-item" data-v-4393227e><div class="issue hiatus" data-v-4393227e></div> Hiatus streaks </div><div class="streak-legend-item" data-v-4393227e><div class="issue released" data-v-4393227e></div> Release streaks </div></div>',1);d();const Ye=fe(((e,s,t,a,r,n)=>(i(),u("div",ve,[p("div",{class:"section-title clickable",onClick:s[1]||(s[1]=s=>e.showFilters=!e.showFilters)},[ke,p("span",be,[e.showFilters?(i(),u(h,{key:0},[ge],64)):(i(),u(h,{key:1},[we],64))])]),e.showFilters?(i(),u("div",_e,[p("div",Ie,[je,w(p("input",{type:"number","onUpdate:modelValue":s[2]||(s[2]=s=>e.threshold=s),min:"1"},null,512),[[_,e.threshold]]),w(p("input",{type:"range","onUpdate:modelValue":s[3]||(s[3]=s=>e.threshold=s),min:"1",max:e.longestStreak},null,8,["max"]),[[_,e.threshold]])]),p("div",qe,[p("label",null,[w(p("input",{type:"checkbox","onUpdate:modelValue":s[4]||(s[4]=s=>e.showBreaks=s)},null,512),[[I,e.showBreaks]]),Ae,Re]),p("label",null,[w(p("input",{type:"checkbox","onUpdate:modelValue":s[5]||(s[5]=s=>e.showReleases=s)},null,512),[[I,e.showReleases]]),Me,xe])])])):g("",!0),p("table",null,[Se,(i(!0),u(h,null,m(e.filteredStreaks,(s=>(i(),u("tr",null,[p("td",null,y(s.start.year)+"/"+y(s.start.number),1),p("td",null,y(s.end.year)+"/"+y(s.end.number),1),p("td",null,[s.released?(i(),u(h,{key:0},[-1!==s.start.chapter?(i(),u(h,{key:0},[b(y(s.start.chapter)+" ",1),s.start.chapter!==s.end.chapter?(i(),u(h,{key:0},[b(" - "+y(s.end.chapter),1)],64)):g("",!0)],64)):(i(),u(h,{key:1},[$e],64))],64)):g("",!0)]),p("td",Be,[p("div",{style:{width:s.count/e.longestStreak*100+"%"},class:["streak",{hiatus:!s.released,released:s.released}]},y(s.count),7)])])))),256))]),Ue]))));ye.render=Ye,ye.__scopeId="data-v-4393227e";var Ce=n({name:"MainChart",components:{Issue:O},props:{issuesByYear:{type:Object,required:!0},loading:{type:Boolean,required:!1}},computed:{issues(){if(this.loading){const e=new Map;for(const s in[...Array(23).keys()]){const t=[];e.set(s,t);for(const e of[...Array(48).keys()])t.push({year:s,number:e})}return e}return this.issuesByYear}}});const He={class:"rows"},De={class:"chart-row"},Fe={class:"year"},Oe={class:"issues-list"};Ce.render=function(e,s,t,a,r,n){const l=q("issue");return i(),u("div",He,[(i(!0),u(h,null,m(e.issues,(([e,s])=>(i(),u("div",De,[p("div",Fe,y(e),1),p("div",Oe,[(i(!0),u(h,null,m(s,(e=>(i(),u(l,{issue:e},null,8,["issue"])))),256))])])))),256))])};var Te=n({name:"TrendByYear",components:{Issue:O},props:{issuesByYear:{type:Object,required:!0}},setup(e){const s=v(null),t=v(null),a=Array.from(e.issuesByYear.keys()).reverse(),r=Array.from(e.issuesByYear.values()).map((e=>-1*e.filter((e=>!e.released)).length)).reverse(),n=Array.from(e.issuesByYear.values()).map((e=>e.filter((e=>e.released)).length)).reverse();return k((()=>{const e=s.value.getContext("2d");t.value=new B(e,{type:"bar",data:{labels:a,datasets:[{label:"Releases",data:n,backgroundColor:"rgba(51,181,229, 0.9)"},{label:"Breaks",data:r,backgroundColor:"rgba(255,68,68, 0.9)"}]},options:{maintainAspectRatio:!1,responsive:!0,plugins:{tooltip:{callbacks:{label:e=>Math.abs(e.raw)}}},scales:{y:{stacked:!0,ticks:{callback:e=>Math.abs(e)}},x:{stacked:!0}}}})})),{canvas:s,chart:t}}});const Le=f("data-v-66066d9d");c("data-v-66066d9d");const Ee={class:"section"},Ne=p("div",{class:"section-title"},"Trend",-1),Ve={class:"chart"},ze={ref:"canvas",height:"256"};d();const Pe=Le(((e,s,t,a,r,n)=>(i(),u("div",Ee,[Ne,p("div",Ve,[p("canvas",ze,null,512)])]))));Te.render=Pe,Te.__scopeId="data-v-66066d9d";var Qe=n({name:"RelatedLinks",setup(){const t=e(),a=s();return{routes:o((()=>a.getRoutes().filter((e=>!!e.meta.dir)).filter((e=>e.name!=t.name))))}}});const Ge=f("data-v-e1a645de");c("data-v-e1a645de");const Je={class:"section"},We=p("div",{class:"section-title"},"Other charts",-1),Xe={class:"links"};d();const Ke=Ge(((e,s,t,a,r,n)=>{const l=q("router-link");return i(),u("div",Je,[We,p("div",Xe,[(i(!0),u(h,null,m(e.routes,(e=>(i(),u(l,{to:{name:e.name}},{default:Ge((()=>[b(y(e.meta.title),1)])),_:2},1032,["to"])))),256))])])}));Qe.render=Ke,Qe.__scopeId="data-v-e1a645de";const Ze={name:"Disqus",inject:["$disqus"],created(){},mounted(){this.$disqus.reset()}},es={class:"section",id:"disqus_thread"};Ze.render=function(e,s,t,a,r,n){return w((i(),u("div",es,null,512)),[[A,n.$disqus.ready]])};var ss=n({name:"SeriesInfo",components:{Disqus:Ze,RelatedLinks:Qe,TrendByYear:Te,MainChart:Ce,MajorStreaks:ye,Faq:ae,Attribution:z,ArcsInfo:T,Issue:O},setup(){const s=e(),t=v(!1),{seriesInfo:a,loading:r}=function(e){const s=v(!1),t=v({name:"",ongoing:!1,streaksThreshold:0,showFaq:!1,arcs:new Map,attribution:{sources:[],authors:[]}});return k((async()=>{try{s.value=!0;const a=await fetch(`/data/${e}/info.json`),r=await a.json();for(const e of r.arcs)t.value.arcs.set(e.key,e);t.value.name=r.series_name,t.value.ongoing=r.ongoing,t.value.streaksThreshold=r.streaks_threshold,t.value.showFaq=r.show_faq,t.value.faq=r.faq,t.value.attribution=r.attribution}finally{s.value=!1}})),{seriesInfo:t,loading:s}}(s.meta.dir),{issues:n,loading:l}=function(e){const s=v(!1),t=v(new Array);return k((async()=>{try{s.value=!0;const a=await fetch(`/data/${e}/issues.json`);t.value=await a.json()}finally{s.value=!1}})),{issues:t,loading:s}}(s.meta.dir),i=o((()=>r.value||l.value)),u=o((()=>n.value.find((e=>e.released))));R("arcs",o((()=>a.value.arcs))),R("showArcs",t);const c=new Map(Object.entries({released:{key:"released",color:"released",name:"Appears in Jump"},hiatus:{key:"hiatus",color:"hiatus",name:"Hiatus"}})),d=o((()=>t.value?a.value.arcs:c));return{seriesInfo:a,issues:n,arcs:d,showArcs:t,loading:i,latestRelease:u}},computed:{issuesByYear(){let e=new Map;for(const s of this.issues){const t=e.get(s.year)||[];t.push(s),e.set(s.year,t)}for(const s of e.values())s.reverse();return e}}});const ts={class:"section"},as={key:0,class:"section align-start"},rs=p("div",{class:"section-title"},"Frequently Asked Questions",-1);ss.render=function(e,s,t,a,r,n){const l=q("main-chart"),o=q("arcs-info"),c=q("faq"),d=q("major-streaks"),h=q("trend-by-year"),m=q("related-links"),f=q("disqus"),v=q("attribution");return i(),u("div",{class:{loading:e.loading}},[p("div",ts,[p("div",{class:"section-title main",onClick:s[1]||(s[1]=s=>e.showArcs=!e.showArcs)},y(e.$route.meta.title)+" Hiatus Chart ",1),w(p("button",{class:"fab",onClick:s[2]||(s[2]=s=>e.showArcs=!e.showArcs)}," Arcs ",512),[[A,!e.loading]]),p(l,{"issues-by-year":e.issuesByYear,loading:e.loading},null,8,["issues-by-year","loading"]),e.loading?g("",!0):(i(),u(o,{key:0,arcs:e.arcs},null,8,["arcs"]))]),e.seriesInfo.showFaq&&!e.loading?(i(),u("article",as,[rs,p(c,{items:e.seriesInfo.faq,"latest-release":e.latestRelease},null,8,["items","latest-release"])])):g("",!0),e.loading?g("",!0):(i(),u(d,{key:1,issues:e.issues,threshold:e.seriesInfo.streaksThreshold},null,8,["issues","threshold"])),e.loading?g("",!0):(i(),u(h,{key:2,"issues-by-year":e.issuesByYear},null,8,["issues-by-year"])),p(m),p(f),e.loading?g("",!0):(i(),u(v,{key:3,"series-info":e.seriesInfo},null,8,["series-info"]))],2)};const ns=[{path:"/",name:"hxh",component:ss,meta:{dir:"HunterXHunter",title:"HUNTERÃ—HUNTER"}},{path:"/YuYuHakusho/",name:"yuyu",meta:{dir:"YuYuHakusho",title:"Yu Yu Hakusho"},component:ss},{path:"/:pathMatch(.*)*",name:"404",redirect:{name:"hxh"}}],ls=t({history:a(),routes:ns});ls.beforeEach((async e=>{await M((()=>{document.title=`${e.meta.title} Hiatus Chart`}))}));var os=n({name:"App"});const is={class:"app"};os.render=function(e,s,t,a,r,n){const l=q("router-view");return i(),u("div",is,[p(l,{key:e.$route.path})])};const us={install(e,s,t){const a=x({ready:!1,reset:()=>{window.DISQUS&&window.DISQUS.reset({reload:!0,config:function(){this.page.url=(()=>{const e=window.location.host;return`${window.location.protocol}//${e}${t.currentRoute.value.fullPath}`})()}})}});var r;e.provide("$disqus",a),s.shortName?(r=s.shortName,new Promise(((e,s)=>{const t=document.createElement("script");t.src=`//${r}.disqus.com/embed.js`,t.async=!0,t.setAttribute("data-timestamp",String(+new Date)),(document.head||document.getElementsByTagName("head")[0]).appendChild(t),t.onload=e,t.onerror=s}))).then((()=>{a.ready=!0})):console.warn("Missing disqus shortname")}};B.register(U,Y,C,H,D,F),S(os).use(ls).use(us,{shortName:"hiatus-hiatus"},ls).use(r,{config:{id:"UA-63786226-1"},bootstrap:!0},ls).mount("#app");
