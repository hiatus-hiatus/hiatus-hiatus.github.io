import{u as e,a as s,c as t,b as a,i as r}from"./vendor.0e8f4013.js";import{defineComponent as n,inject as l,computed as o,openBlock as i,createBlock as u,pushScopeId as c,popScopeId as d,Fragment as h,renderList as m,createVNode as p,toDisplayString as y,withScopeId as f,ref as v,onMounted as k,createTextVNode as b,createCommentVNode as g,withDirectives as w,vModelText as j,vModelCheckbox as q,resolveComponent as I,vShow as _,provide as A,nextTick as R,reactive as M,createApp as x}from"https://cdn.jsdelivr.net/npm/vue@3.2.4/dist/vue.runtime.esm-browser.prod.js";import{DateTime as S}from"https://cdn.jsdelivr.net/npm/luxon@2.0.2/build/es6/luxon.js";import{Chart as $,BarElement as B,BarController as U,CategoryScale as Y,LinearScale as C,Legend as D,Tooltip as H}from"https://cdn.jsdelivr.net/npm/chart.js@3.5.1/dist/chart.esm.js";!function(e=".",s="__import__"){try{self[s]=new Function("u","return import(u)")}catch(t){const a=new URL(e,location),r=e=>{URL.revokeObjectURL(e.src),e.remove()};self[s]=e=>new Promise(((t,n)=>{const l=new URL(e,a);if(self[s].moduleMap[l])return t(self[s].moduleMap[l]);const o=new Blob([`import * as m from '${l}';`,`${s}.moduleMap['${l}']=m;`],{type:"text/javascript"}),i=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(o),onerror(){n(new Error(`Failed to import: ${e}`)),r(i)},onload(){t(self[s].moduleMap[l]),r(i)}});document.head.appendChild(i)})),self[s].moduleMap={}}}("/assets/");var F=n({name:"Issue",props:{issue:{type:Object,required:!0}},setup(e){const s=l("arcs",new Map),t=l("showArcs",!1),a=o((()=>{let s="";return e.issue.chapter&&(s+=`Chapter: ${e.issue.chapter}. `),s+=`Issue: ${e.issue.number}`,s})),r=o((()=>{if(t.value){return(s.value.get(e.issue.arc)||{}).color||"gray-300"}return"gray-300"}));return{title:a,showArcs:t,arcs:s,color:r}}});F.render=function(e,s,t,a,r,n){return i(),u("div",{class:["issue",{released:e.issue.released&&!e.showArcs,[e.color]:e.showArcs}],title:e.title},null,10,["title"])};var O={name:"arcs-info",components:{Issue:F},props:{arcs:Object}};const T=f("data-v-5c77b696");c("data-v-5c77b696");const L={class:"arcs"},E={class:"arc-description"};d();const N=T(((e,s,t,a,r,n)=>(i(),u("div",L,[(i(!0),u(h,null,m(t.arcs,(([e,s])=>(i(),u("div",{key:e,class:"arc-item"},[p("div",{class:["issue",s.color]},null,2),p("div",E,y(s.name),1)])))),128))]))));O.render=N,O.__scopeId="data-v-5c77b696";var V=n({name:"Attribution",props:{seriesInfo:{type:Object}},computed:{authors(){return this.seriesInfo.attribution.authors},sources(){return this.seriesInfo.attribution.sources}}});const z=f("data-v-780b5159");c("data-v-780b5159");const P=p("p",null,[b(" created by "),p("a",{target:"_blank",href:"https://www.reddit.com/user/rentzhx3/"}," /u/rentzhx3 ")],-1),Q=p("p",null,[b(" inspired by "),p("a",{target:"_blank",href:"https://hunterxhunter.fandom.com/wiki/User_blog:MrGenial11/Hunter_x_Hunter_Hiatus_Chart"}," MrGenial11's "),b(" hiatus chart ")],-1),G={key:0},J=b(" and "),W=b(" ,Â "),X=b(" references: "),K=b(" and "),Z=b(" ,Â "),ee=p("p",null,[p("a",{target:"_blank",href:"https://github.com/hiatus-hiatus/hiatus-hiatus.github.io/"}," source code ")],-1);d();const se=z(((e,s,t,a,r,n)=>(i(),u("footer",null,[P,Q,e.authors?(i(),u("p",G,[b(y(e.seriesInfo.name)+" data submited by ",1),(i(!0),u(h,null,m(e.authors,((s,t)=>(i(),u(h,null,[e.authors.length>1&&t>0?(i(),u(h,{key:0},[t===e.authors.length-1||2===e.authors.length?(i(),u(h,{key:0},[J],64)):(i(),u(h,{key:1},[W],64))],64)):g("",!0),p("a",{href:s.link,target:"_blank"},y(s.name),9,["href"])],64)))),256))])):g("",!0),e.sources?(i(),u(h,{key:1},[X,(i(!0),u(h,null,m(e.sources,((s,t)=>(i(),u(h,null,[e.sources.length>1&&t>0?(i(),u(h,{key:0},[t===s.length-1||2===e.sources.length?(i(),u(h,{key:0},[K],64)):(i(),u(h,{key:1},[Z],64))],64)):g("",!0),p("a",{href:s.link,target:"_blank"},y(s.name),9,["href"])],64)))),256))],64)):g("",!0),ee]))));V.render=se,V.__scopeId="data-v-780b5159";var te=n({name:"Faq",props:{items:{type:Object,required:!0},latestRelease:{type:Object,required:!0}},computed:{latestIssueDate(){return S.fromISO(this.latestRelease.date,{zone:"Asia/Tokyo"})},formattedDate(){return this.latestIssueDate.toLocaleString(S.DATE_FULL,{locale:"en"})},diff(){const e=S.now();let s=e.diff(this.latestIssueDate,["years","months","days"]),t=e.diff(this.latestIssueDate,["days"]);return{years:s.years,months:s.months,days:s.days,totalDays:Math.floor(t.days)}}}});const ae={style:{"text-align":"left"}},re=p("h1",null,"When was the last chapter released?",-1),ne=p("h1",null,"How long has it been since the last chapter?",-1),le=b("days ðŸŽ‰."),oe=b("days."),ie=b(" Aproximately "),ue=b("years"),ce=b("year"),de=b(" and"),he=b(" months."),me=b(" month.");te.render=function(e,s,t,a,r,n){return i(),u("div",ae,[p("section",null,[re,b(" Chapter "+y(e.latestRelease.chapter)+" was released on "+y(e.formattedDate)+". ",1)]),p("section",null,[ne,b(" "+y(e.diff.totalDays)+" ",1),1e3===e.diff.totalDays?(i(),u(h,{key:0},[le],64)):(i(),u(h,{key:1},[oe],64)),ie,e.diff.years>0?(i(),u(h,{key:2},[b(y(e.diff.years)+" ",1),e.diff.years>1?(i(),u(h,{key:0},[ue],64)):(i(),u(h,{key:1},[ce],64))],64)):g("",!0),e.diff.months>0?(i(),u(h,{key:3},[e.diff.years?(i(),u(h,{key:0},[de],64)):g("",!0),b(" "+y(e.diff.months)+" ",1),e.diff.months>1?(i(),u(h,{key:1},[he],64)):(i(),u(h,{key:2},[me],64))],64)):g("",!0)]),(i(!0),u(h,null,m(e.items,(e=>(i(),u("section",null,[p("h1",null,y(e.question),1),p("p",null,y(e.answer),1)])))),256))])};var pe=n({name:"MajorStreaks",props:{issues:{type:Object,required:!0},threshold:{type:Number,required:!0}},setup:e=>{const s=v(!0),t=v(!0),{streaks:a}=function(e){const s=v([]);let t=[...e].reverse().reduce(((e,s)=>{if(e.current&&s.released==e.current.released)e.current.count++,e.current.end=s;else{let t={start:s,end:s,count:1,released:s.released};e.current=t,e.streaks.push(t)}return e}),{streaks:[],current:null});return s.value=t.streaks,{streaks:s}}(e.issues),r=o((()=>Math.max(...a.value.map((e=>e.count))))),n=v(e.threshold),l=v(!1),i=o((()=>a.value.filter((e=>e.count>=n.value)).filter((e=>e.released&&t.value||!e.released&&s.value)))),u=v(!1);return{showBreaks:s,showReleases:t,showFilters:u,threshold:n,longestStreak:r,includeReleases:l,filteredStreaks:i}}});const ye=f("data-v-678472d2");c("data-v-678472d2");const fe={class:"section"},ve=b(" Streaks "),ke={class:"material-icons"},be=b("expand_less"),ge=b("expand_more"),we={key:0,class:"filters"},je={class:"filter-threshold"},qe=p("label",null," Threshold: ",-1),Ie={class:"filter-include-releases"},_e=p("div",{class:"issue hiatus",style:{display:"inline-block","margin-bottom":"0"}},null,-1),Ae=b(" Hiatus streaks "),Re=p("div",{class:"issue released",style:{display:"inline-block","margin-bottom":"0"}},null,-1),Me=b(" Release streaks "),xe=p("thead",null,[p("tr",null,[p("th",null,"Start"),p("th",null,"End"),p("th",null,"Chapters"),p("th",null,"Streak (total issues)")])],-1),Se=b("Special"),$e={class:"streak-col"};d();const Be=ye(((e,s,t,a,r,n)=>(i(),u("div",fe,[p("div",{class:"section-title clickable",onClick:s[1]||(s[1]=s=>e.showFilters=!e.showFilters)},[ve,p("span",ke,[e.showFilters?(i(),u(h,{key:0},[be],64)):(i(),u(h,{key:1},[ge],64))])]),e.showFilters?(i(),u("div",we,[p("div",je,[qe,w(p("input",{type:"number","onUpdate:modelValue":s[2]||(s[2]=s=>e.threshold=s),min:"1"},null,512),[[j,e.threshold]]),w(p("input",{type:"range","onUpdate:modelValue":s[3]||(s[3]=s=>e.threshold=s),min:"1",max:e.longestStreak},null,8,["max"]),[[j,e.threshold]])]),p("div",Ie,[p("label",null,[w(p("input",{type:"checkbox","onUpdate:modelValue":s[4]||(s[4]=s=>e.showBreaks=s)},null,512),[[q,e.showBreaks]]),_e,Ae]),p("label",null,[w(p("input",{type:"checkbox","onUpdate:modelValue":s[5]||(s[5]=s=>e.showReleases=s)},null,512),[[q,e.showReleases]]),Re,Me])])])):g("",!0),p("table",null,[xe,(i(!0),u(h,null,m(e.filteredStreaks,(s=>(i(),u("tr",null,[p("td",null,y(s.start.year)+"/"+y(s.start.number),1),p("td",null,y(s.end.year)+"/"+y(s.end.number),1),p("td",null,[s.released?(i(),u(h,{key:0},[-1!==s.start.chapter?(i(),u(h,{key:0},[b(y(s.start.chapter)+" ",1),s.start.chapter!==s.end.chapter?(i(),u(h,{key:0},[b(" - "+y(s.end.chapter),1)],64)):g("",!0)],64)):(i(),u(h,{key:1},[Se],64))],64)):g("",!0)]),p("td",$e,[p("div",{style:{width:s.count/e.longestStreak*100+"%"},class:["streak",{hiatus:!s.released,released:s.released}]},y(s.count),7)])])))),256))])]))));pe.render=Be,pe.__scopeId="data-v-678472d2";var Ue=n({name:"MainChart",components:{Issue:F},props:{issuesByYear:{type:Object,required:!0},loading:{type:Boolean,required:!1}},computed:{issues(){if(this.loading){const e=new Map;for(const s in[...Array(23).keys()]){const t=[];e.set(s,t);for(const e of[...Array(48).keys()])t.push({year:s,number:e})}return e}return this.issuesByYear}}});const Ye={class:"rows"},Ce={class:"chart-row"},De={class:"year"},He={class:"issues-list"};Ue.render=function(e,s,t,a,r,n){const l=I("issue");return i(),u("div",Ye,[(i(!0),u(h,null,m(e.issues,(([e,s])=>(i(),u("div",Ce,[p("div",De,y(e),1),p("div",He,[(i(!0),u(h,null,m(s,(e=>(i(),u(l,{issue:e},null,8,["issue"])))),256))])])))),256))])};var Fe=n({name:"TrendByYear",components:{Issue:F},props:{issuesByYear:{type:Object,required:!0}},setup(e){const s=v(null),t=v(null),a=Array.from(e.issuesByYear.keys()).reverse(),r=Array.from(e.issuesByYear.values()).map((e=>-1*e.filter((e=>!e.released)).length)).reverse(),n=Array.from(e.issuesByYear.values()).map((e=>e.filter((e=>e.released)).length)).reverse();return k((()=>{const e=s.value.getContext("2d");t.value=new $(e,{type:"bar",data:{labels:a,datasets:[{label:"Releases",data:n,backgroundColor:"rgba(51,181,229, 0.9)"},{label:"Breaks",data:r,backgroundColor:"rgba(255,68,68, 0.9)"}]},options:{maintainAspectRatio:!1,plugins:{tooltip:{callbacks:{label:e=>Math.abs(e.raw)}}},scales:{y:{stacked:!0,ticks:{callback:e=>Math.abs(e)}},x:{stacked:!0}}}})})),{canvas:s,chart:t}}});const Oe={class:"section"},Te=p("div",{class:"section-title"},"Trend",-1),Le={ref:"canvas",height:"256"};Fe.render=function(e,s,t,a,r,n){return i(),u("div",Oe,[Te,p("div",null,[p("canvas",Le,null,512)])])};var Ee=n({name:"RelatedLinks",setup(){const t=e(),a=s();return{routes:o((()=>a.getRoutes().filter((e=>!!e.meta.dir)).filter((e=>e.name!=t.name))))}}});const Ne=f("data-v-e1a645de");c("data-v-e1a645de");const Ve={class:"section"},ze=p("div",{class:"section-title"},"Other charts",-1),Pe={class:"links"};d();const Qe=Ne(((e,s,t,a,r,n)=>{const l=I("router-link");return i(),u("div",Ve,[ze,p("div",Pe,[(i(!0),u(h,null,m(e.routes,(e=>(i(),u(l,{to:{name:e.name}},{default:Ne((()=>[b(y(e.meta.title),1)])),_:2},1032,["to"])))),256))])])}));Ee.render=Qe,Ee.__scopeId="data-v-e1a645de";const Ge={name:"Disqus",inject:["$disqus"],created(){},mounted(){this.$disqus.reset()}},Je={class:"section",id:"disqus_thread"};Ge.render=function(e,s,t,a,r,n){return w((i(),u("div",Je,null,512)),[[_,n.$disqus.ready]])};var We=n({name:"SeriesInfo",components:{Disqus:Ge,RelatedLinks:Ee,TrendByYear:Fe,MainChart:Ue,MajorStreaks:pe,Faq:te,Attribution:V,ArcsInfo:O,Issue:F},setup(){const s=e(),t=v(!1),{seriesInfo:a,loading:r}=function(e){const s=v(!1),t=v({name:"",ongoing:!1,streaksThreshold:0,showFaq:!1,arcs:new Map,attribution:{sources:[],authors:[]}});return k((async()=>{try{s.value=!0;const a=await fetch(`/data/${e}/info.json`),r=await a.json();for(const e of r.arcs)t.value.arcs.set(e.key,e);t.value.name=r.series_name,t.value.ongoing=r.ongoing,t.value.streaksThreshold=r.streaks_threshold,t.value.showFaq=r.show_faq,t.value.faq=r.faq,t.value.attribution=r.attribution}finally{s.value=!1}})),{seriesInfo:t,loading:s}}(s.meta.dir),{issues:n,loading:l}=function(e){const s=v(!1),t=v(new Array);return k((async()=>{try{s.value=!0;const a=await fetch(`/data/${e}/issues.json`);t.value=await a.json()}finally{s.value=!1}})),{issues:t,loading:s}}(s.meta.dir),i=o((()=>r.value||l.value)),u=o((()=>n.value.find((e=>e.released))));A("arcs",o((()=>a.value.arcs))),A("showArcs",t);const c=new Map(Object.entries({released:{key:"released",color:"released",name:"Appears in Jump"},hiatus:{key:"hiatus",color:"hiatus",name:"Hiatus"}})),d=o((()=>t.value?a.value.arcs:c));return{seriesInfo:a,issues:n,arcs:d,showArcs:t,loading:i,latestRelease:u}},computed:{issuesByYear(){let e=new Map;for(const s of this.issues){const t=e.get(s.year)||[];t.push(s),e.set(s.year,t)}for(const s of e.values())s.reverse();return e}}});const Xe={class:"section"},Ke={key:0,class:"section"},Ze=p("div",{class:"section-title"},"Frequently Asked Questions",-1);We.render=function(e,s,t,a,r,n){const l=I("main-chart"),o=I("arcs-info"),c=I("faq"),d=I("major-streaks"),h=I("trend-by-year"),m=I("related-links"),f=I("disqus"),v=I("attribution");return i(),u("div",{class:{loading:e.loading}},[p("div",Xe,[p("div",{class:"section-title main",onClick:s[1]||(s[1]=s=>e.showArcs=!e.showArcs)},y(e.$route.meta.title)+" Hiatus Chart ",1),w(p("button",{class:"fab",onClick:s[2]||(s[2]=s=>e.showArcs=!e.showArcs)}," Arcs ",512),[[_,!e.loading]]),p(l,{"issues-by-year":e.issuesByYear,loading:e.loading},null,8,["issues-by-year","loading"]),e.loading?g("",!0):(i(),u(o,{key:0,arcs:e.arcs},null,8,["arcs"]))]),e.seriesInfo.showFaq&&!e.loading?(i(),u("article",Ke,[Ze,p(c,{items:e.seriesInfo.faq,"latest-release":e.latestRelease},null,8,["items","latest-release"])])):g("",!0),e.loading?g("",!0):(i(),u(d,{key:1,issues:e.issues,threshold:e.seriesInfo.streaksThreshold},null,8,["issues","threshold"])),e.loading?g("",!0):(i(),u(h,{key:2,"issues-by-year":e.issuesByYear},null,8,["issues-by-year"])),p(m),p(f),e.loading?g("",!0):(i(),u(v,{key:3,"series-info":e.seriesInfo},null,8,["series-info"]))],2)};const es=[{path:"/",name:"hxh",component:We,meta:{dir:"HunterXHunter",title:"HUNTERÃ—HUNTER"}},{path:"/YuYuHakusho/",name:"yuyu",meta:{dir:"YuYuHakusho",title:"Yu Yu Hakusho"},component:We},{path:"/:pathMatch(.*)*",name:"404",redirect:{name:"hxh"}}],ss=t({history:a(),routes:es});ss.beforeEach((async e=>{await R((()=>{document.title=`${e.meta.title} Hiatus Chart`}))}));var ts=n({name:"App"});ts.render=function(e,s,t,a,r,n){const l=I("router-view");return i(),u(l,{key:e.$route.path})};const as={install(e,s,t){const a=M({ready:!1,reset:()=>{window.DISQUS&&window.DISQUS.reset({reload:!0,config:function(){this.page.url=(()=>{const e=window.location.host;return`${window.location.protocol}//${e}${t.currentRoute.value.fullPath}`})()}})}});var r;e.provide("$disqus",a),s.shortName?(r=s.shortName,new Promise(((e,s)=>{const t=document.createElement("script");t.src=`//${r}.disqus.com/embed.js`,t.async=!0,t.setAttribute("data-timestamp",String(+new Date)),(document.head||document.getElementsByTagName("head")[0]).appendChild(t),t.onload=e,t.onerror=s}))).then((()=>{a.ready=!0})):console.warn("Missing disqus shortname")}};$.register(B,U,Y,C,D,H),x(ts).use(ss).use(as,{shortName:"hiatus-hiatus"},ss).use(r,{config:{id:"UA-63786226-1"},bootstrap:!0},ss).mount("#app");
