import{u as e,c as s,a as t,i as a}from"./vendor.6bb935a7.js";import{defineComponent as r,inject as n,computed as l,openBlock as o,createBlock as i,pushScopeId as u,popScopeId as c,Fragment as d,renderList as h,createVNode as m,toDisplayString as p,withScopeId as y,ref as f,onMounted as v,createTextVNode as k,createCommentVNode as b,withDirectives as g,vModelText as w,vModelCheckbox as I,resolveComponent as j,vShow as q,provide as _,nextTick as A,reactive as R,createApp as M}from"https://cdn.jsdelivr.net/npm/vue@3.2.4/dist/vue.runtime.esm-browser.prod.js";import{DateTime as x}from"https://cdn.jsdelivr.net/npm/luxon@2.0.2/build/es6/luxon.js";import{Chart as S,BarElement as Y,BarController as B,CategoryScale as H,LinearScale as $,Legend as U,Tooltip as C}from"https://cdn.jsdelivr.net/npm/chart.js@3.5.1/dist/chart.esm.js";!function(e=".",s="__import__"){try{self[s]=new Function("u","return import(u)")}catch(t){const a=new URL(e,location),r=e=>{URL.revokeObjectURL(e.src),e.remove()};self[s]=e=>new Promise(((t,n)=>{const l=new URL(e,a);if(self[s].moduleMap[l])return t(self[s].moduleMap[l]);const o=new Blob([`import * as m from '${l}';`,`${s}.moduleMap['${l}']=m;`],{type:"text/javascript"}),i=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(o),onerror(){n(new Error(`Failed to import: ${e}`)),r(i)},onload(){t(self[s].moduleMap[l]),r(i)}});document.head.appendChild(i)})),self[s].moduleMap={}}}("/assets/");var D=r({name:"Issue",props:{issue:{type:Object,required:!0}},setup(e){const s=n("arcs",new Map),t=n("showArcs",!1),a=l((()=>{let s="";return e.issue.chapter&&(s+=`Chapter: ${e.issue.chapter}. `),s+=`Issue: ${e.issue.number}`,s})),r=l((()=>{if(t.value){return(s.value.get(e.issue.arc)||{}).color||"gray-300"}return"gray-300"}));return{title:a,showArcs:t,arcs:s,color:r}}});D.render=function(e,s,t,a,r,n){return o(),i("div",{class:["issue",{released:e.issue.released&&!e.showArcs,[e.color]:e.showArcs}],title:e.title},null,10,["title"])};var F={name:"arcs-info",components:{Issue:D},props:{arcs:Object}};const O=y("data-v-5c77b696");u("data-v-5c77b696");const T={class:"arcs"},L={class:"arc-description"};c();const E=O(((e,s,t,a,r,n)=>(o(),i("div",T,[(o(!0),i(d,null,h(t.arcs,(([e,s])=>(o(),i("div",{key:e,class:"arc-item"},[m("div",{class:["issue",s.color]},null,2),m("div",L,p(s.name),1)])))),128))]))));F.render=E,F.__scopeId="data-v-5c77b696";var N=r({name:"Attribution",props:{seriesInfo:{type:Object}},computed:{authors(){return this.seriesInfo.attribution.authors},sources(){return this.seriesInfo.attribution.sources}}});const V=y("data-v-28190b3d");u("data-v-28190b3d");const z=m("p",null,[k(" created by "),m("a",{target:"_blank",href:"https://www.reddit.com/user/rentzhx3/"}," /u/rentzhx3 ")],-1),P=m("p",null,[k(" inspired by "),m("a",{target:"_blank",href:"https://hunterxhunter.fandom.com/wiki/User_blog:MrGenial11/Hunter_x_Hunter_Hiatus_Chart"}," MrGenial11's "),k(" hiatus chart ")],-1),Q={key:0},G=k(" and "),W=k(" ,Â "),X=m("p",null,"With partial or complete data from:",-1),J=k(" and "),K=k(" ,Â "),Z=m("p",null,[m("a",{target:"_blank",href:"https://github.com/hiatus-hiatus/hiatus-hiatus.github.io/"}," source code ")],-1);c();const ee=V(((e,s,t,a,r,n)=>(o(),i("footer",null,[z,P,e.authors?(o(),i("p",Q,[k(p(e.seriesInfo.name)+" data submited by ",1),(o(!0),i(d,null,h(e.authors,((s,t)=>(o(),i(d,null,[e.authors.length>1&&t>0?(o(),i(d,{key:0},[t===e.authors.length-1||2===e.authors.length?(o(),i(d,{key:0},[G],64)):(o(),i(d,{key:1},[W],64))],64)):b("",!0),m("a",{href:s.link,target:"_blank"},p(s.name),9,["href"])],64)))),256))])):b("",!0),e.sources?(o(),i(d,{key:1},[X,(o(!0),i(d,null,h(e.sources,((s,t)=>(o(),i(d,null,[e.sources.length>1&&t>0?(o(),i(d,{key:0},[t===s.length-1||2===e.sources.length?(o(),i(d,{key:0},[J],64)):(o(),i(d,{key:1},[K],64))],64)):b("",!0),m("a",{href:s.link,target:"_blank"},p(s.name),9,["href"])],64)))),256))],64)):b("",!0),Z]))));N.render=ee,N.__scopeId="data-v-28190b3d";var se=r({name:"Faq",props:{items:{type:Object,required:!0},latestRelease:{type:Object,required:!0}},computed:{latestIssueDate(){return x.fromISO(this.latestRelease.date,{zone:"Asia/Tokyo"})},formattedDate(){return this.latestIssueDate.toLocaleString(x.DATE_FULL,{locale:"en"})},diff(){const e=x.now();let s=e.diff(this.latestIssueDate,["years","months","days"]),t=e.diff(this.latestIssueDate,["days"]);return{years:s.years,months:s.months,days:s.days,totalDays:Math.floor(t.days)}}}});const te={style:{"text-align":"left"}},ae=m("h1",null,"When was the last chapter released?",-1),re=m("h1",null,"How long has it been since the last chapter?",-1),ne=k("days ðŸŽ‰."),le=k("days."),oe=k(" Aproximately "),ie=k("years"),ue=k("year"),ce=k(" and"),de=k(" months."),he=k(" month.");se.render=function(e,s,t,a,r,n){return o(),i("div",te,[m("section",null,[ae,k(" Chapter "+p(e.latestRelease.chapter)+" was released on "+p(e.formattedDate)+". ",1)]),m("section",null,[re,k(" "+p(e.diff.totalDays)+" ",1),1e3===e.diff.totalDays?(o(),i(d,{key:0},[ne],64)):(o(),i(d,{key:1},[le],64)),oe,e.diff.years>0?(o(),i(d,{key:2},[k(p(e.diff.years)+" ",1),e.diff.years>1?(o(),i(d,{key:0},[ie],64)):(o(),i(d,{key:1},[ue],64))],64)):b("",!0),e.diff.months>0?(o(),i(d,{key:3},[e.diff.years?(o(),i(d,{key:0},[ce],64)):b("",!0),k(" "+p(e.diff.months)+" ",1),e.diff.months>1?(o(),i(d,{key:1},[de],64)):(o(),i(d,{key:2},[he],64))],64)):b("",!0)]),(o(!0),i(d,null,h(e.items,(e=>(o(),i("section",null,[m("h1",null,p(e.question),1),m("p",null,p(e.answer),1)])))),256))])};var me=r({name:"MajorStreaks",props:{issues:{type:Object,required:!0},threshold:{type:Number,required:!0}},setup:e=>{const s=f(!0),t=f(!0),{streaks:a}=function(e){const s=f([]);let t=[...e].reverse().reduce(((e,s)=>{if(e.current&&s.released==e.current.released)e.current.count++,e.current.end=s;else{let t={start:s,end:s,count:1,released:s.released};e.current=t,e.streaks.push(t)}return e}),{streaks:[],current:null});return s.value=t.streaks,{streaks:s}}(e.issues),r=l((()=>Math.max(...a.value.map((e=>e.count))))),n=f(e.threshold),o=f(!1),i=l((()=>a.value.filter((e=>e.count>=n.value)).filter((e=>e.released&&t.value||!e.released&&s.value)))),u=f(!1);return{showBreaks:s,showReleases:t,showFilters:u,threshold:n,longestStreak:r,includeReleases:o,filteredStreaks:i}}});const pe=y("data-v-678472d2");u("data-v-678472d2");const ye={class:"section"},fe=k(" Streaks "),ve={class:"material-icons"},ke=k("expand_less"),be=k("expand_more"),ge={key:0,class:"filters"},we={class:"filter-threshold"},Ie=m("label",null," Threshold: ",-1),je={class:"filter-include-releases"},qe=m("div",{class:"issue hiatus",style:{display:"inline-block","margin-bottom":"0"}},null,-1),_e=k(" Hiatus streaks "),Ae=m("div",{class:"issue released",style:{display:"inline-block","margin-bottom":"0"}},null,-1),Re=k(" Release streaks "),Me=m("thead",null,[m("tr",null,[m("th",null,"Start"),m("th",null,"End"),m("th",null,"Chapters"),m("th",null,"Streak (total issues)")])],-1),xe=k("Special"),Se={class:"streak-col"};c();const Ye=pe(((e,s,t,a,r,n)=>(o(),i("div",ye,[m("div",{class:"section-title clickable",onClick:s[1]||(s[1]=s=>e.showFilters=!e.showFilters)},[fe,m("span",ve,[e.showFilters?(o(),i(d,{key:0},[ke],64)):(o(),i(d,{key:1},[be],64))])]),e.showFilters?(o(),i("div",ge,[m("div",we,[Ie,g(m("input",{type:"number","onUpdate:modelValue":s[2]||(s[2]=s=>e.threshold=s),min:"1"},null,512),[[w,e.threshold]]),g(m("input",{type:"range","onUpdate:modelValue":s[3]||(s[3]=s=>e.threshold=s),min:"1",max:e.longestStreak},null,8,["max"]),[[w,e.threshold]])]),m("div",je,[m("label",null,[g(m("input",{type:"checkbox","onUpdate:modelValue":s[4]||(s[4]=s=>e.showBreaks=s)},null,512),[[I,e.showBreaks]]),qe,_e]),m("label",null,[g(m("input",{type:"checkbox","onUpdate:modelValue":s[5]||(s[5]=s=>e.showReleases=s)},null,512),[[I,e.showReleases]]),Ae,Re])])])):b("",!0),m("table",null,[Me,(o(!0),i(d,null,h(e.filteredStreaks,(s=>(o(),i("tr",null,[m("td",null,p(s.start.year)+"/"+p(s.start.number),1),m("td",null,p(s.end.year)+"/"+p(s.end.number),1),m("td",null,[s.released?(o(),i(d,{key:0},[-1!==s.start.chapter?(o(),i(d,{key:0},[k(p(s.start.chapter)+" ",1),s.start.chapter!==s.end.chapter?(o(),i(d,{key:0},[k(" - "+p(s.end.chapter),1)],64)):b("",!0)],64)):(o(),i(d,{key:1},[xe],64))],64)):b("",!0)]),m("td",Se,[m("div",{style:{width:s.count/e.longestStreak*100+"%"},class:["streak",{hiatus:!s.released,released:s.released}]},p(s.count),7)])])))),256))])]))));me.render=Ye,me.__scopeId="data-v-678472d2";var Be={name:"MainChart",components:{Issue:D},props:{issuesByYear:{type:Object,required:!0},loading:{type:Boolean,required:!1}},computed:{issues(){if(this.loading){const e=new Map;for(const s in[...Array(23).keys()]){const t=[];e.set(s,t);for(const e of[...Array(48).keys()])t.push({year:s,number:e})}return e}return this.issuesByYear}}};const He={class:"rows"},$e={class:"chart-row"},Ue={class:"year"},Ce={class:"issues-list"};Be.render=function(e,s,t,a,r,n){const l=j("issue");return o(),i("div",He,[(o(!0),i(d,null,h(n.issues,(([e,s])=>(o(),i("div",$e,[m("div",Ue,p(e),1),m("div",Ce,[(o(!0),i(d,null,h(s,(e=>(o(),i(l,{issue:e},null,8,["issue"])))),256))])])))),256))])};var De=r({name:"TrendByYear",components:{Issue:D},props:{issuesByYear:{type:Object,required:!0}},setup(e){const s=f(null),t=f(null),a=Array.from(e.issuesByYear.keys()).reverse(),r=Array.from(e.issuesByYear.values()).map((e=>-1*e.filter((e=>!e.released)).length)).reverse(),n=Array.from(e.issuesByYear.values()).map((e=>e.filter((e=>e.released)).length)).reverse();return v((()=>{const e=s.value.getContext("2d");t.value=new S(e,{type:"bar",data:{labels:a,datasets:[{label:"Releases",data:n,backgroundColor:"rgba(51,181,229, 0.9)"},{label:"Breaks",data:r,backgroundColor:"rgba(255,68,68, 0.9)"}]},options:{maintainAspectRatio:!1,plugins:{tooltip:{callbacks:{label:e=>Math.abs(e.raw)}}},scales:{y:{stacked:!0,ticks:{callback:e=>Math.abs(e)}},x:{stacked:!0}}}})})),{canvas:s,chart:t}}});const Fe={class:"section"},Oe=m("div",{class:"section-title"},"Trend",-1),Te={ref:"canvas",height:"256"};De.render=function(e,s,t,a,r,n){return o(),i("div",Fe,[Oe,m("div",null,[m("canvas",Te,null,512)])])};var Le=r({name:"RelatedLinks",setup(){const s=e(),t=[{name:"hxh",description:"HunterXHunter"},{name:"yuyu",description:"YuYuHakusho"}];return{charts:l((()=>t.filter((e=>e.name!=s.name))))}}});const Ee=y("data-v-2be5c93c");u("data-v-2be5c93c");const Ne={class:"section"},Ve=m("div",{class:"section-title"},"Other charts",-1),ze={class:"links"};c();const Pe=Ee(((e,s,t,a,r,n)=>{const l=j("router-link");return o(),i("div",Ne,[Ve,m("div",ze,[(o(!0),i(d,null,h(e.charts,(e=>(o(),i(l,{to:{name:e.name}},{default:Ee((()=>[k(p(e.description),1)])),_:2},1032,["to"])))),256))])])}));Le.render=Pe,Le.__scopeId="data-v-2be5c93c";const Qe={name:"Disqus",inject:["$disqus"],created(){},mounted(){this.$disqus.reset()}},Ge={class:"section",id:"disqus_thread"};Qe.render=function(e,s,t,a,r,n){return g((o(),i("div",Ge,null,512)),[[q,n.$disqus.ready]])};var We=r({name:"SeriesInfo",components:{Disqus:Qe,RelatedLinks:Le,TrendByYear:De,MainChart:Be,MajorStreaks:me,Faq:se,Attribution:N,ArcsInfo:F,Issue:D},setup(){const s=e(),t=f(!1),{seriesInfo:a,loading:r}=function(e){const s=f(!1),t=f({name:"",ongoing:!1,streaksThreshold:0,showFaq:!1,arcs:new Map,attribution:{sources:[],authors:[]}});return v((async()=>{try{s.value=!0;const a=await fetch(`/data/${e}/info.json`),r=await a.json();for(const e of r.arcs)t.value.arcs.set(e.key,e);t.value.name=r.series_name,t.value.ongoing=r.ongoing,t.value.streaksThreshold=r.streaks_threshold,t.value.showFaq=r.show_faq,t.value.faq=r.faq,t.value.attribution=r.attribution}finally{s.value=!1}})),{seriesInfo:t,loading:s}}(s.meta.dir),{issues:n,loading:o}=function(e){const s=f(!1),t=f(new Array);return v((async()=>{try{s.value=!0;const a=await fetch(`/data/${e}/issues.json`);t.value=await a.json()}finally{s.value=!1}})),{issues:t,loading:s}}(s.meta.dir),i=l((()=>r.value||o.value)),u=l((()=>n.value.find((e=>e.released))));_("arcs",l((()=>a.value.arcs))),_("showArcs",t);const c=new Map(Object.entries({released:{key:"released",color:"released",name:"Appears in Jump"},hiatus:{key:"hiatus",color:"hiatus",name:"Hiatus"}})),d=l((()=>t.value?a.value.arcs:c));return{seriesInfo:a,issues:n,arcs:d,showArcs:t,loading:i,latestRelease:u}},computed:{issuesByYear(){let e=new Map;for(const s of this.issues){const t=e.get(s.year)||[];t.push(s),e.set(s.year,t)}for(const s of e.values())s.reverse();return e}}});const Xe={class:"section"},Je={key:0,class:"section"},Ke=m("div",{class:"section-title"},"Frequently Asked Questions",-1);We.render=function(e,s,t,a,r,n){const l=j("main-chart"),u=j("arcs-info"),c=j("faq"),d=j("major-streaks"),h=j("related-links"),y=j("trend-by-year"),f=j("disqus"),v=j("attribution");return o(),i("div",{class:{loading:e.loading}},[m("div",Xe,[m("div",{class:"section-title main",onClick:s[1]||(s[1]=s=>e.showArcs=!e.showArcs)},p(e.seriesInfo.name)+" Hiatus Chart ",1),g(m("button",{class:"fab",onClick:s[2]||(s[2]=s=>e.showArcs=!e.showArcs)}," Arcs ",512),[[q,!e.loading]]),m(l,{"issues-by-year":e.issuesByYear,loading:e.loading},null,8,["issues-by-year","loading"]),e.loading?b("",!0):(o(),i(u,{key:0,arcs:e.arcs},null,8,["arcs"]))]),e.seriesInfo.showFaq&&!e.loading?(o(),i("article",Je,[Ke,m(c,{items:e.seriesInfo.faq,"latest-release":e.latestRelease},null,8,["items","latest-release"])])):b("",!0),e.loading?b("",!0):(o(),i(d,{key:1,issues:e.issues,threshold:e.seriesInfo.streaksThreshold},null,8,["issues","threshold"])),m(h),e.loading?b("",!0):(o(),i(y,{key:2,"issues-by-year":e.issuesByYear},null,8,["issues-by-year"])),m(f),e.loading?b("",!0):(o(),i(v,{key:3,"series-info":e.seriesInfo},null,8,["series-info"]))],2)};const Ze=[{path:"/",name:"hxh",component:We,meta:{dir:"HunterXHunter",title:"HUNTERÃ—HUNTER"}},{path:"/YuYuHakusho",name:"yuyu",meta:{dir:"YuYuHakusho",title:"Yu Yu Hakusho"},component:We}],es=s({history:t(),routes:Ze});es.beforeEach((async e=>{await A((()=>{document.title=`${e.meta.title} Hiatus Chart`}))}));var ss=r({name:"App"});ss.render=function(e,s,t,a,r,n){const l=j("router-view");return o(),i(l,{key:e.$route.path})};const ts={install(e,s,t){const a=R({ready:!1,reset:()=>{window.DISQUS&&window.DISQUS.reset({reload:!0,config:function(){this.page.url=(()=>{const e=window.location.host;return`${window.location.protocol}//${e}${t.currentRoute.value.fullPath}`})()}})}});var r;e.provide("$disqus",a),s.shortName?(r=s.shortName,new Promise(((e,s)=>{const t=document.createElement("script");t.src=`//${r}.disqus.com/embed.js`,t.async=!0,t.setAttribute("data-timestamp",String(+new Date)),(document.head||document.getElementsByTagName("head")[0]).appendChild(t),t.onload=e,t.onerror=s}))).then((()=>{a.ready=!0})):console.warn("Missing disqus shortname")}};S.register(Y,B,H,$,U,C),M(ss).use(es).use(ts,{shortName:"hiatus-hiatus"},es).use(a,{config:{id:"UA-63786226-1"},bootstrap:!0},es).mount("#app");
